package org.hamm.h1kemaps.app.view;import android.content.Context;import android.content.Intent;import android.content.SharedPreferences;import android.os.Bundle;import android.view.View;import android.view.Window;import android.widget.ImageButton;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import android.widget.Toast;import com.bumptech.glide.Glide;import com.bumptech.glide.load.resource.bitmap.CenterCrop;import org.hamm.h1kemaps.app.R;import jp.wasabeef.glide.transformations.BlurTransformation;import jp.wasabeef.glide.transformations.CropCircleTransformation;/** */public class MineActivity extends MapActivity implements View.OnClickListener {    public static final String TAG = "MineFragment";    private int counter = 0;    private SharedPreferences mSetting;    private Context mContext;    private Window window;    private TextView tvUsername;    private ImageButton imgBtnSetting;    private ImageButton imgBtnScan;    private ImageView ivUpdateReminder;    private LinearLayout llAccount;    private LinearLayout llBinding;    private LinearLayout llCollection;    private LinearLayout llFeedback;    private LinearLayout llAbout;    private LinearLayout llShare;    private LinearLayout llLogout;    private LinearLayout llBinding10;    private ImageView blurImageView;    private ImageView avatarImageView;    public MineActivity() {        // Required empty public constructor    }    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_mine);        tvUsername = (TextView) findViewById(R.id.tv_username);        //  imgBtnScan = (ImageButton) findViewById(R.id.imgbtn_scan);        // imgBtnSetting = (ImageButton) findViewById(R.id.imgbtn_setting);        ivUpdateReminder = (ImageView) findViewById(R.id.iv_update_reminder);        llAccount = (LinearLayout) findViewById(R.id.ll_account);        llBinding = (LinearLayout) findViewById(R.id.ll_binding);        llBinding10 = (LinearLayout) findViewById(R.id.ll_binding10);        llCollection = (LinearLayout) findViewById(R.id.ll_collection);        llFeedback = (LinearLayout) findViewById(R.id.ll_feedback);        llAbout = (LinearLayout) findViewById(R.id.ll_about);        llShare = (LinearLayout) findViewById(R.id.ll_share);        llLogout = (LinearLayout) findViewById(R.id.ll_logout);        //mContext = getContext();        mSetting = getSharedPreferences("userdata", 0);        //window = getActivity().getWindow();        tvUsername.setText(mSetting.getString("username", "用户名"));//        imgBtnScan.setOnClickListener(this);        //      imgBtnSetting.setOnClickListener(this);        llAccount.setOnClickListener(this);        llBinding.setOnClickListener(this);        llCollection.setOnClickListener(this);        llFeedback.setOnClickListener(this);        llAbout.setOnClickListener(this);        llShare.setOnClickListener(this);        llLogout.setOnClickListener(this);        /* return view;*/        // this.requestWindowFeature(Window.FEATURE_NO_TITLE);//去掉标题栏        blurImageView = (ImageView) findViewById(R.id.iv_blur);        avatarImageView = (ImageView) findViewById(R.id.iv_avatar);        Glide.with(this).load(R.drawable.ic_launcher)                .bitmapTransform(new BlurTransformation(this, 25), new CenterCrop(this))                .into(blurImageView);        Glide.with(this).load(R.drawable.ic_launcher)                .bitmapTransform(new CropCircleTransformation(this))                .into(avatarImageView);    }   /* @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        View view = inflater.inflate(R.layout.fragment_mine, container, false);        tvUsername = view.findViewById(R.id.tv_username);        imgBtnScan = view.findViewById(R.id.imgbtn_scan);        imgBtnSetting = view.findViewById(R.id.imgbtn_setting);        ivUpdateReminder = view.findViewById(R.id.iv_update_reminder);        llAccount = view.findViewById(R.id.ll_account);        llBinding = view.findViewById(R.id.ll_binding);        llCollection = view.findViewById(R.id.ll_collection);        llFeedback = view.findViewById(R.id.ll_feedback);        llAbout = view.findViewById(R.id.ll_about);        llShare = view.findViewById(R.id.ll_share);        llLogout = view.findViewById(R.id.ll_logout);        mContext = getContext();        mSetting = Objects.requireNonNull(mContext).getSharedPreferences("userdata", 0);        window = getActivity().getWindow();        tvUsername.setText(mSetting.getString("username", "用户名"));        imgBtnScan.setOnClickListener(this);        imgBtnSetting.setOnClickListener(this);        llAccount.setOnClickListener(this);        llBinding.setOnClickListener(this);        llCollection.setOnClickListener(this);        llFeedback.setOnClickListener(this);        llAbout.setOnClickListener(this);        llShare.setOnClickListener(this);        llLogout.setOnClickListener(this);        return view;    }    */    /*@Override    public void onClick(View v) {        switch (v.getId()) {            case R.id.imgbtn_scan:                Toast.makeText(getContext(), "扫码以后再做（咕咕咕）", Toast.LENGTH_SHORT).show();                break;            case R.id.imgbtn_setting:                startActivity(new Intent(getActivity(), SettingActivity.class));                break;            case R.id.ll_account:                Toast.makeText(getContext(), "暂时放在右上角的设置里", Toast.LENGTH_SHORT).show();                break;            case R.id.ll_binding:                Toast.makeText(getContext(), "尚未完成", Toast.LENGTH_SHORT).show();                break;            case R.id.ll_collection:                Toast.makeText(getContext(), "尚未完成", Toast.LENGTH_SHORT).show();                break;            case R.id.ll_feedback:                Toast.makeText(getContext(), "尚未完成", Toast.LENGTH_SHORT).show();                break;            //关于界面            case R.id.ll_about:                startActivity(new Intent(getActivity(), AboutActivity.class));                break;            //二维码            case R.id.ll_share:                new QRCodePopupWindow(getContext()).showAtBottom(llShare);                break;            //返回            case R.id.ll_logout:                back();                break;            default:                break;        }    }*/    @Override    public void onClick(View v) {        if (v == imgBtnScan) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == imgBtnSetting) {            // startActivity(new Intent(mContext, SettingActivity.class));            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llAccount) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llBinding) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llBinding10) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llCollection) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llFeedback) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llAbout) {            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llShare) {            // new QRCodePopupWindow(mContext).showAtBottom(llShare);            Toast.makeText(getApplicationContext(), "尚未完成", Toast.LENGTH_SHORT).show();        }        if (v == llLogout) {            back();        }    }    private void back() {        counter++;        if (counter == 2) {            mSetting.edit().putBoolean("autoLogin", false).apply();            startActivity(new Intent(getApplicationContext(), LoginActivity.class));            // Objects.requireNonNull(getActivity()).finish();            finish();        } else {            Toast.makeText(getApplicationContext(), "再点一次退出", Toast.LENGTH_SHORT).show();        }    }}